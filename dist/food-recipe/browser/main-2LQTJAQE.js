import{a as B,b as J}from"./chunk-3PGHUWKQ.js";import{a as V}from"./chunk-KMCSDFWS.js";import{b as P,c as q}from"./chunk-5JPRDBNC.js";import{a as X}from"./chunk-6GNSWN5K.js";import{a as d}from"./chunk-GP3FLTEX.js";import{$ as N,A as r,B as m,C as A,D as x,E as C,K as a,Q as E,S as L,U as D,V as R,W as T,X as j,Z as H,aa as F,ba as O,ca as y,h as _,i as M,k,l as s,m as I,p as f,q as p,r as h,s as v,v as g,w as l,x as S,y as b,z as n}from"./chunk-WB7VSCDF.js";function ee(t,e){t&1&&(n(0,"li",10)(1,"a",13),a(2,"Recipes "),r()())}function te(t,e){t&1&&(n(0,"li",10)(1,"a",14),a(2,"Authenticate"),r()())}function ie(t,e){if(t&1){let w=A();n(0,"ul",15)(1,"li",16)(2,"a",17),a(3,"Manage "),m(4,"span",18),r(),n(5,"ul",19)(6,"li")(7,"a",20),x("click",function(){h(w);let i=C();return v(i.onLogOut())}),a(8,"Log Out"),r()(),n(9,"li")(10,"a",20),x("click",function(){h(w);let i=C();return v(i.onSaveData())}),a(11,"Save Data"),r()(),n(12,"li")(13,"a",20),x("click",function(){h(w);let i=C();return v(i.onFetchData())}),a(14,"Fetch Data"),r()()()()()}}var G=(()=>{let e=class e{constructor(o,i){this.dataStorageService=o,this.authService=i,this.isAuthenticated=!1}ngOnInit(){this.userSub=this.authService.user.subscribe(o=>{this.isAuthenticated=!!o,console.log(!o),console.log(!!o)})}ngOnDestroy(){this.userSub.unsubscribe()}onSaveData(){this.dataStorageService.storeRecipes()}onFetchData(){this.dataStorageService.fetchRecipes().subscribe()}onLogOut(){this.authService.logout()}};e.\u0275fac=function(i){return new(i||e)(l(J),l(d))},e.\u0275cmp=f({type:e,selectors:[["app-header"]],decls:19,vars:3,consts:[[1,"navbar","navbar-default"],[1,"container-fluid"],[1,"navbar-header"],["type","button","data-toggle","collapse","data-target","#bs-example-navbar-collapse-1","aria-expanded","false",1,"navbar-toggle","collapsed"],[1,"sr-only"],[1,"icon-bar"],["href","#",1,"navbar-brand"],["id","bs-example-navbar-collapse-1",1,"collapse","navbar-collapse"],[1,"nav","navbar-nav"],["routerLinkActive","active",4,"ngIf"],["routerLinkActive","active"],["routerLink","/shopping-list"],["class","nav navbar-nav navbar-right",4,"ngIf"],["routerLink","/recipes"],["routerLink","/auth"],[1,"nav","navbar-nav","navbar-right"],[1,"dropdown"],["href","#","data-toggle","dropdown","role","button","aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle"],[1,"caret"],[1,"dropdown-menu"],[2,"cursor","pointer",3,"click"]],template:function(i,c){i&1&&(n(0,"nav",0)(1,"div",1)(2,"div",2)(3,"button",3)(4,"span",4),a(5,"Toggle navigation"),r(),m(6,"span",5)(7,"span",5)(8,"span",5),r(),n(9,"a",6),a(10,"JRA"),r()(),n(11,"div",7)(12,"ul",8),S(13,ee,3,0,"li",9),n(14,"li",10)(15,"a",11),a(16,"Shopping List "),r()(),S(17,te,3,0,"li",9),r(),S(18,ie,15,0,"ul",12),r()()()),i&2&&(g(13),b("ngIf",c.isAuthenticated),g(4),b("ngIf",!c.isAuthenticated),g(),b("ngIf",c.isAuthenticated))},dependencies:[E,N,F]});let t=e;return t})();var K=(()=>{let e=class e{constructor(o,i){this.authService=o,this.loggingService=i}ngOnInit(){this.authService.autoLogin(),this.loggingService.printLog("Hello from app component")}};e.\u0275fac=function(i){return new(i||e)(l(d),l(V))},e.\u0275cmp=f({type:e,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12"]],template:function(i,c){i&1&&(m(0,"app-header"),n(1,"div",0)(2,"div",1)(3,"div",2),m(4,"router-outlet"),r()()())},dependencies:[H,G],styles:[".marginXS[_ngcontent-%COMP%]{margin:2px}"]});let t=e;return t})();var re=[{path:"",component:X},{path:"recipes",loadChildren:()=>import("./chunk-IMOTSKFZ.js").then(t=>t.RecipesModule)},{path:"shopping-list",loadChildren:()=>import("./chunk-5Q2G4VJA.js").then(t=>t.ShoppingModule)},{path:"auth",loadChildren:()=>import("./chunk-I2HLMQ56.js").then(t=>t.AuthModule)}],Q=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=p({type:e}),e.\u0275inj=s({imports:[y.forRoot(re,{preloadingStrategy:O}),y]});let t=e;return t})();var U=(()=>{let e=class e{constructor(o){this.authService=o}intercept(o,i){return this.authService.user.pipe(_(1),M(c=>{if(!c)return i.handle(o);let Z=o.clone({params:new L().set("auth",c.token)});return i.handle(Z)}))}};e.\u0275fac=function(i){return new(i||e)(I(d))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();var W=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=p({type:e}),e.\u0275inj=s({providers:[P,B,{provide:D,useClass:U,multi:!0}]});let t=e;return t})();var Y=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=p({type:e,bootstrap:[K]}),e.\u0275inj=s({imports:[j,R,Q,q,W]});let t=e;return t})();T().bootstrapModule(Y).catch(t=>console.error(t));
